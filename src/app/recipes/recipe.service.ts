import { Recipe } from "./recipe.model";
import { Injectable } from "@angular/core";
import { Ingredient } from "../shared/ingredient.model";
import { Subject } from "rxjs";
import { Store } from "@ngrx/store";
import * as ShoppingListActions from "../shooping-list/store/shooping-list.actions"

import * as fromApp from '../store/app.reduser'

@Injectable()
export class RecipeService {
    recipesChanged = new Subject<Recipe[]>();
    // private recipes: Recipe[] = [
    //     new Recipe(
    //         'pasta',
    //         'Amazing!',
    //         'https://www.italianfoodforever.com/wp-content/uploads/2019/07/bursttomatopasta1.jpg',
    //         [
    //             new Ingredient('pasta', 10),
    //             new Ingredient('tomatoes',5)
    //         ] ),
    //     new Recipe(
    //         'Chocolate Cake',
    //         'Super good!!',
    //         'data:image/jpeg;base64,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',
    //         [
    //             new Ingredient('flour', 30),
    //             new Ingredient('chocolate', 9)
    //         ])
    // ];
    private recipes:Recipe[] = [];
    
    constructor(
        private store : Store<fromApp.AppState> ){

    }
    setRecipes( recipes:Recipe[]){
        this.recipes = recipes;
        this.recipesChanged.next(this.recipes.slice());
    }
    getRecipes(){
        return this.recipes.slice();
    }
    getRecipe(index:number){
        return this.recipes[index];
    }
    addIngredientsToShoppingList(ingredients:Ingredient[]){
        this.store.dispatch(new ShoppingListActions.AddIngredients(ingredients))

       /// this.slService.addIngredients(ingredients);
    }
    addRecipe(recipe: Recipe){
        this.recipes.push(recipe);
        this.recipesChanged.next(this.recipes.slice());
    }
    updateRecipe(index: number, newRecipe: Recipe){
        this.recipes[index]= newRecipe;
        this.recipesChanged.next(this.recipes.slice());

    }
    deleteRecipe(index: number){
        this.recipes.splice(index, 1);

        this.recipesChanged.next(this.recipes.slice());
    }
}